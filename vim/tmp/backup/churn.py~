#!/usr/bin/env python
# -*- coding: utf-8 -*-

import re

# Regex from http://daringfireball.net/2010/07/improved_regex_for_matching_urls
URL_RE = re.compile(r"""(?i)\b((?:https?://|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))""")

if __name__ == '__main__':
    print URL_RE.findall('Example attack http://like.fm/music/Midlake/_/Roscoe+(Beyond+The+Wizards+Sleeve+Remix this hurts my server')
